<!-- Barra de navegação -->
<nav class="flex flex-row justify-between text-center py-4 px-8 md:px-16 gap-4 md:gap-0 bg-yellow-300">

    <div class="flex flex-col md:flex-row items-start md:justify-between text-center w-2/3 gap-4">

        <!-- Logo -->
        <div>
            <a routerLink="/forms" class="text-2xl">OUR FORMS</a>
        </div>
        <!-- Menu de -->
        <ul class="flex justify-center gap-6 text-1xl md:text-xl lowercase ml-1">
            <!-- Froms -->
            <li>
                <a routerLink="/forms"
                    class="hover:border-green-600 border-t-2 border-transparent hover:px-2 py-1 transition-all duration-300 underline underline-offset-4 decoration-2 decoration-transparent"
                    routerLinkActive="capitalize !decoration-orange-500 pointer-events-none"
                    [routerLinkActiveOptions]="{exact: true}">Forms</a>
            </li>
            <!-- Dashboards -->
            <li>
                <a routerLink="/dashboards"
                    class="hover:border-green-600 border-t-2 border-transparent hover:px-2 py-1 transition-all duration-300 underline underline-offset-4 decoration-2 decoration-transparent"
                    routerLinkActive="capitalize !decoration-orange-500 pointer-events-none">Dashboards</a>
            </li>
        </ul>

    </div>
    <!-- Foto de perfil e menu -->
    <div class="flex flex-row relative w-1/3 justify-end">
        <!-- Foto de perfil -->
        <button (click)="toggleMenu()"
            class="flex items-center gap-2 focus:outline-none hover:opacity-80 transition-opacity cursor-pointer">

            <img [src]="'https://ui-avatars.com/api/?name=' + user.name + '&background=000&color=fde047'"
                alt="Foto de perfil" class="h-10 w-10 rounded-full object-cover">

        </button>

        <!-- Quadro transparente que preenche a tela toda -->
        @if (isMenuOpen) {
        <div (click)="closeMenu()" class="fixed inset-0 z-10 cursor-default"></div>

        <!-- Menu de perfil -->
        @if (isMenuOpen) {
        <div
            class="absolute -right-8 md:-right-16 mt-20 md:mt-13 w-56 md:w-80 bg-yellow-300 py-4 px-8 md:px-16 z-20 overflow-hidden animation-fade-in">

            <div class="px-4 py-2">
                <p class="text-end text-sm font-bold">{{ user.name }}</p>
                <p class="text-end text-xs text-gray-700 truncate">{{ user.email }}</p>
            </div>

            <a routerLink="/user" (click)="closeMenu()" class="
                flex flex-col items-end 
                px-4 py-2 
                text-sm 
                border-y-2 border-x-0 border-green-600 hover:border-2
                transition-all  duration-100
                cursor-pointer">
                Meu Perfil
            </a>

            <div class="my-1"></div>

            <button (click)="logout()"class="
                flex flex-col  
                w-full 
                text-right text-sm text-red-600
                gap-2 px-4 py-2 
                hover:border-b-2  hover:border-red-600 
                transition-all duration-100 
                cursor-pointer">
                Sair
            </button>
        </div>
        }

        }
    </div>

</nav>

<!-- Conteúdo -->
<main>

    <router-outlet></router-outlet>

</main>